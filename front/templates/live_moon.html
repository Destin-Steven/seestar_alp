{% extends 'live_base.html' %}

{% block header %}
    <h1>{% block title %}Live View - Moon{% endblock %}</h1>
{% endblock %}

{% block live_content %}
    <div class="container">
        <div class="row">
            <div class="col-md-4 order-md-last">
                <div id="movement-controls" class="mb-3 d-flex flex-column">
                    <div class="bg-dark-subtle position-relative rounded mb-3" style="width: 250px; height: 250px;">
                        <div id="zone" class="position-absolute"
                             style="display: block; left: 0; width: 100%; height: 100%; "></div>
                    </div>
                </div>

                <div class="card card-body p-3 mb-3">
                    {% include 'partials/live_controls.html' with context %}
                </div>

                <div class="mb-3 card card-body p-3" hx-get="{{ root }}/live/status" hx-trigger="load, every 5s">
                    Loading live status...
                </div>
            </div>

            <div class="col-md-8 order-md-first">
                <img id="liveViewImg" src="{{ imager_root }}/vid" alt="Live view image"
                     style="max-height: 80vh; max-width: 100%"/>
                <div id="position"></div>
            </div>
        </div>
    </div>
{% endblock %}